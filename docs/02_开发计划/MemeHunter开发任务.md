---
status: 实施中
version: 1.1
last_updated: 2026-01-17
---

# Meme Hunter MVP 开发任务

> 基于已审核的技术设计文档，细化开发任务

---

## 任务依赖关系图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              Day 1: 智能合约                                 │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │ T1.1 forge init → T1.2 MemeHunter.sol → T1.3 合约编译               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                         Day 2: 合约测试 + 部署 + Relayer 骨架               │
│  ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────────┐   │
│  │ T2.1 测试用例     │  │ T2.2 部署脚本     │  │ T2.3 Relayer 初始化   │   │
│  └─────────┬─────────┘  └─────────┬─────────┘  └───────────┬───────────┘   │
│            └──────────────────────┴────────────────────────┘               │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                              Day 3: Relayer 完善                            │
│  ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────────┐   │
│  │ T3.1 签名验证     │  │ T3.2 交易广播     │  │ T3.3 WebSocket        │   │
│  └───────────────────┘  └───────────────────┘  └───────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           Day 4: 前端搭建 + 首页                            │
│  ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────────┐   │
│  │ T4.1 create-vite  │  │ T4.2 wagmi 配置   │  │ T4.3 首页 UI          │   │
│  └───────────────────┘  └───────────────────┘  └───────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                              Day 5: 游戏画布                                │
│  ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────────┐   │
│  │ T5.1 GameCanvas   │  │ T5.2 MemeSprite   │  │ T5.3 移动逻辑         │   │
│  └───────────────────┘  └───────────────────┘  └───────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           Day 6: Session Key                                │
│  ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────────┐   │
│  │ T6.1 密钥生成     │  │ T6.2 授权流程     │  │ T6.3 Relayer 通信     │   │
│  └───────────────────┘  └───────────────────┘  └───────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           Day 7: 碰撞检测 + 狩猎                            │
│  ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────────┐   │
│  │ T7.1 碰撞检测     │  │ T7.2 空网判断     │  │ T7.3 狩猎请求         │   │
│  └───────────────────┘  └───────────────────┘  └───────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                              Day 8: 动画系统                                │
│  ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────────┐   │
│  │ T8.1 捕网发射     │  │ T8.2 捕获/逃脱    │  │ T8.3 空网动画         │   │
│  └───────────────────┘  └───────────────────┘  └───────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                         Day 9-10: 联调 + 优化 + 部署                        │
│  ┌───────────────────┐  ┌───────────────────┐  ┌───────────────────────┐   │
│  │ T9.1 全流程联调   │  │ T9.2 优化         │  │ T10.1 部署            │   │
│  └───────────────────┘  └───────────────────┘  └───────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 任务清单

### Day 1: 智能合约开发

| ID | 任务 | 优先级 | 预估时间 | 依赖 |
|----|------|--------|----------|------|
| T1.1 | 初始化 Foundry 项目 (`forge init contracts`) | P0 | 10min | - |
| T1.2 | 编写 MemeHunter.sol 核心逻辑 | P0 | 2h | T1.1 |
| T1.3 | 添加空投池机制 (区块计数 + 空投触发) | P0 | 1.5h | T1.2 |
| T1.4 | 合约编译验证 (`forge build`) | P0 | 10min | T1.3 |

**产出物**: `contracts/` 目录, `MemeHunter.sol` (含空投池)

> ✅ **已完成** (2026-01-17)
> - MemeHunter.sol: 355 行
> - 16 个测试用例全部通过

---

### Day 2: 合约测试 + 部署 + Relayer 骨架

| ID | 任务 | 优先级 | 预估时间 | 依赖 |
|----|------|--------|----------|------|
| T2.1 | 编写合约测试 `MemeHunter.t.sol` | P0 | 2h | T1.3 |
| T2.2 | 编写部署脚本 `Deploy.s.sol` | P0 | 1h | T1.3 |
| T2.3 | 部署到 Monad 测试网 | P0 | 30min | T2.2 |
| T2.4 | 初始化 Node.js 项目 (`server/`) | P0 | 30min | - |
| T2.5 | 创建 Express 骨架 + 路由 | P0 | 1h | T2.4 |

**产出物**: 合约测试, 部署脚本, 合约地址, `server/` 基础结构

> ✅ **已完成** (2026-01-17)
> - 合约地址: `0x68fcad643fC9E2190E2A968C0855139758F237cB`
> - Relayer 地址: `0x53C1844Af058fE3B3195e49fEC8f97E0a4F87772`
> - 网络: Monad Testnet (10143)

---

### Day 3: Relayer 完善

| ID | 任务 | 优先级 | 预估时间 | 依赖 |
|----|------|--------|----------|------|
| T3.1 | 签名验证服务 (`signatureVerifier.ts`) | P0 | 2h | T2.5 |
| T3.2 | 交易广播服务 (`txBroadcaster.ts`) | P0 | 2h | T2.3, T2.5 |
| T3.3 | 游戏状态管理 (`gameState.ts`) | P0 | 1h | T2.5 |
| T3.4 | WebSocket 服务 (`gameSync.ts`) | P0 | 2h | T3.3 |

**产出物**: 完整的 Relayer 服务

> ✅ **已完成** (2026-01-17)
> - 8 个核心文件
> - API: /api/hunt, /api/nonce, /api/pool
> - WebSocket 实时同步

---

### Day 4: 前端搭建 + 首页 ✅ 已完成

| ID | 任务 | 优先级 | 预估时间 | 依赖 | 状态 |
|----|------|--------|----------|------|------|
| T4.1 | 初始化 Vite 项目 (`create-vite frontend`) | P0 | 10min | - | ✅ |
| T4.2 | 安装依赖 (wagmi, viem, tailwind, socket.io-client) | P0 | 20min | T4.1 | ✅ |
| T4.3 | 配置 Tailwind | P0 | 20min | T4.1 | ✅ |
| T4.4 | 配置 wagmi + Monad 链 | P0 | 1h | T4.2 | ✅ |
| T4.5 | 实现首页 UI (`Home.tsx`) | P0 | 2h | T4.3, T4.4 | ✅ |
| T4.6 | 实现钱包连接组件 (`ConnectButton.tsx`) | P0 | 1h | T4.4 | ✅ |

**产出物**: 前端项目, 首页, 钱包连接功能 ✅

---

### Day 5: 游戏画布 ✅ 已完成

| ID | 任务 | 优先级 | 预估时间 | 依赖 | 状态 |
|----|------|--------|----------|------|------|
| T5.1 | 实现游戏页布局 (`Game.tsx`) | P0 | 1h | T4.5 | ✅ |
| T5.2 | 实现游戏引擎核心 (`memePool.ts`) | P0 | 2h | T5.1 | ✅ |
| T5.3 | 实现游戏画布 (`GameCanvas.tsx`) | P0 | 2h | T5.2 | ✅ |
| T5.4 | 实现 Meme 精灵类 (`memePool.ts`) | P0 | 1h | T5.2 | ✅ |
| T5.5 | 实现 Meme 移动逻辑 + 边界反弹 | P0 | 1h | T5.4 | ✅ |

**产出物**: 游戏画布, Meme 精灵渲染和移动 ✅

---

### Day 6: Session Key 集成 ✅ 已完成

| ID | 任务 | 优先级 | 预估时间 | 依赖 | 状态 |
|----|------|--------|----------|------|------|
| T6.1 | 实现 Session Key 生成 (`useSessionKey.ts`) | P0 | 1h | T4.4 | ✅ |
| T6.2 | 实现加密存储 (localStorage) | P0 | 1h | T6.1 | ✅ |
| T6.3 | 实现授权流程 (调用合约 `authorizeSessionKey`) | P0 | 2h | T6.1, T2.3 | ✅ |
| T6.4 | 实现授权弹窗 UI (`SessionKeyModal.tsx`) | P0 | 1h | T6.3 | ✅ |
| T6.5 | 实现 Relayer 通信服务 (`relayer.ts`) | P0 | 2h | T3.4 | ✅ |

**产出物**: Session Key 完整流程, Relayer 通信 ✅

---

### Day 7: 碰撞检测 + 狩猎逻辑 ✅ 已完成

| ID | 任务 | 优先级 | 预估时间 | 依赖 | 状态 |
|----|------|--------|----------|------|------|
| T7.1 | 实现碰撞检测 (`collision.ts`) | P0 | 2h | T5.3 | ✅ |
| T7.2 | 实现空网判断逻辑 | P0 | 1h | T7.1 | ✅ |
| T7.3 | 实现狩猎请求构造 (EIP-712 签名) | P0 | 2h | T6.5 | ✅ |
| T7.4 | 实现 `useHunt.ts` hook | P0 | 2h | T7.1, T7.3 | ✅ |

**产出物**: 完整的狩猎交互逻辑 ✅

---

### Day 8: 动画系统 ✅ 已完成

| ID | 任务 | 优先级 | 预估时间 | 依赖 | 状态 |
|----|------|--------|----------|------|------|
| T8.1 | 实现捕网发射动画 | P0 | 2h | T5.3 | ✅ |
| T8.2 | 实现捕获成功动画 (粒子效果) | P0 | 2h | T8.1 | ✅ |
| T8.3 | 实现逃脱动画 | P0 | 1h | T8.1 | ✅ |
| T8.4 | 实现空网动画 | P0 | 1h | T8.1 | ✅ |
| T8.5 | 实现动画层整合 (`animations.ts`) | P0 | 1h | T8.1-T8.4 | ✅ |

**产出物**: 完整的动画系统 ✅

---

### Day 9: 全流程联调 ✅ 已完成

| ID | 任务 | 优先级 | 预估时间 | 依赖 | 状态 |
|----|------|--------|----------|------|------|
| T9.1 | 前端 ↔ Relayer ↔ 合约 联调 | P0 | 3h | 全部 | ✅ |
| T9.2 | 完整流程测试 (连接→授权→狩猎) | P0 | 2h | T9.1 | ✅ |
| T9.3 | 多玩家同步测试 | P1 | 2h | T9.1 | ✅ |
| T9.4 | Bug 修复 | P0 | 2h | T9.2 | ✅ |

**产出物**: 可玩的完整版本 ✅

---

### Day 10: 优化 + 部署 ✅ 已完成

| ID | 任务 | 优先级 | 预估时间 | 依赖 | 状态 |
|----|------|--------|----------|------|------|
| T10.1 | 性能优化 (动画帧率, 请求优化) | P1 | 2h | T9.4 | ✅ |
| T10.2 | UI 细节打磨 | P1 | 2h | T9.4 | ✅ |
| T10.3 | 验证测试 | P0 | 1h | T10.2 | ✅ |
| T10.4 | 最终验收测试 | P0 | 1h | T10.3 | ✅ |

**产出物**: **MVP 完成** 🎉

---

## 变更记录

| 日期 | 变更内容 |
|------|----------|
| 2026-01-17 | 初始版本，共 45 个任务 |
| 2026-01-17 | Day 1-3 完成：合约开发、部署、Relayer 服务 |
| 2026-01-17 | Day 4-10 全部完成：前端、Session Key、动画、联调 |
